<!-- <p>schedule works!</p> -->

<div *ngIf="schedule">
  <h1>Truck Schedule</h1>
  <div *ngFor="let sch of schedule">
      <p>Arrival: <input matInput type="datetime-local" name="arrival" [(ngModel)]="sch.arrival"></p>
      <p>Departure: <input matInput type="datetime-local" name="departure" [(ngModel)]="sch.departure"></p>
      <p>Description: <input matInput type="text" name="description" [(ngModel)]="sch.description"></p>
      <!-- <p>Address: <input matInput type="text" name="address" [(ngModel)]="sch.street"></p> -->
      {{sch.location?.street}}
      <iframe
        width="600"
        height="450"
        style="border:0"
        loading="lazy"
        allowfullscreen
        referrerpolicy="no-referrer-when-downgrade"
        src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDWc82oR6wmTsvHWV4by1AHmXuYOBt1dzk
&q={{sch.location?.city}}+{{sch.location?.state}}">
      </iframe>
    </div>
</div>

<mat-card>
  <h3>Create A New Schedule</h3>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Arrival</mat-label>
    <input matInput type="datetime-local" name="arrival" [(ngModel)]="newSchedule.arrival">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Departure</mat-label>
    <input matInput type="datetime-local" name="departure" [(ngModel)]="newSchedule.departure">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Description</mat-label>
    <input matInput type="text" name="description" [(ngModel)]="newSchedule.description">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Street</mat-label>
    <input matInput type="text" name="street" [(ngModel)]="location.street">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>City</mat-label>
    <input matInput type="text" name="city" [(ngModel)]="location.city">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>State</mat-label>
    <input matInput type="text" name="state" [(ngModel)]="location.state">
  </mat-form-field>
  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Zip Code</mat-label>
    <input matInput type="text" name="zip" [(ngModel)]="location.zip">
  </mat-form-field>

<button mat-raised-button color="primary" (click)="createSchedule(newSchedule, location)">Submit</button>
</mat-card>
